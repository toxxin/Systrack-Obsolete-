<?php

	require_once "../class/class_db.php";
	require_once '../sys/jframe.php';

	function insertDemoLocations()
	{
		$ini_array = parse_ini_file("../config.ini", true);
		$locationTable = $ini_array['table']['location'];
		
		$db_host = $ini_array['database']['host'];
		$db_name = $ini_array['database']['name'];
		$db_user = $ini_array['database']['user'];
		$db_pass = $ini_array['database']['pass'];
	
		$db = new MySQL($db_host, $db_user, $db_pass, $db_name);
		if (!$db->IsConnected())
			exit("Error connect to DB!");
		
		//http://universimmedia.pagesperso-orange.fr/geo/loc.htm  55.99114,37.21041, 170
		$input_file = fopen("./demo_coordinates.txt", "r");
		
		if (!$input_file) 
			exit ("Error open file");

		//more hard track
		$sql = "INSERT INTO `".$locationTable."` (`location_talker`, `location_lat_log`, `location_speed`, `location_deviceID`) VALUES 
			('GP', '52.01097,6.03060', '5', '172'),
			('GP', '52.01138,6.03071', '5', '172'),
			('GP', '52.01264,6.03011', '5', '172'),
			('GP', '52.01426,6.02922', '5', '172'),
			('GP', '52.01579,6.02903', '5', '172'),
			('GP', '52.01629,6.02820', '5', '172'),
			('GP', '52.01755,6.02782', '5', '172'),
			('GP', '52.01939,6.02795', '5', '172'),
			('GP', '52.02043,6.02651', '5', '172'),
			('GP', '52.02120,6.02634', '5', '172'),
			('GP', '52.02249,6.02541', '5', '172'),
			('GP', '52.02388,6.02594', '5', '172'),
			('GP', '52.02521,6.02457', '5', '172'),
			('GP', '52.02639,6.02266', '5', '172'),
			('GP', '52.02774,6.02133', '5', '172'),
			('GP', '52.02864,6.02160', '5', '172'),
			('GP', '52.02902,6.02302', '5', '172'),
			('GP', '52.02917,6.02419', '5', '172'),
			('GP', '52.02900,6.02554', '5', '172'),
			('GP', '52.02834,6.02695', '5', '172'),
			('GP', '52.02784,6.02838', '5', '172'),
			('GP', '52.02772,6.02996', '5', '172'),
			('GP', '52.02789,6.03139', '5', '172'),
			('GP', '52.02810,6.03218', '5', '172'),
			('GP', '52.02827,6.03259', '5', '172'),
			('GP', '52.02898,6.03330', '5', '172'),
			('GP', '52.02905,6.03359', '5', '172'),
			('GP', '52.02891,6.03482', '5', '172'),
			('GP', '52.02996,6.03914', '5', '172'),
			('GP', '52.02971,6.03943', '5', '172'),
			('GP', '52.02871,6.03905', '5', '172'),
			('GP', '52.02674,6.04026', '5', '172'),
			('GP', '52.02660,6.04109', '5', '172'),
			('GP', '52.02615,6.04156', '5', '172'),
			('GP', '52.02483,6.04129', '5', '172'),
			('GP', '52.02355,6.04068', '5', '172'),
			('GP', '52.02210,6.04216', '5', '172'),
			('GP', '52.02014,6.04322', '5', '172'),
			('GP', '52.01789,6.04457', '5', '172'),
			('GP', '52.01554,6.04621', '5', '172'),
			('GP', '52.01516,6.04679', '5', '172'),
			('GP', '52.01557,6.04785', '5', '172'),
			('GP', '52.01608,6.04879', '5', '172'),
			('GP', '52.01666,6.05038', '5', '172'),
			('GP', '52.01695,6.05148', '5', '172'),
			('GP', '52.01712,6.05294', '5', '172'),
			('GP', '52.01716,6.05363', '5', '172'),
			('GP', '52.02103,6.06083', '5', '172'),
			('GP', '52.02232,6.05946', '5', '172'),
			('GP', '52.02316,6.05915', '5', '172'),
			('GP', '52.02383,6.05806', '5', '172'),
			('GP', '52.02385,6.05746', '5', '172'),
			('GP', '52.02436,6.05715', '5', '172'),
			('GP', '52.02553,6.05594', '5', '172'),
			('GP', '52.02726,6.05527', '5', '172'),
			('GP', '52.02713,6.05480', '5', '172'),
			('GP', '52.02671,6.05479', '5', '172'),
			('GP', '52.02673,6.05432', '5', '172'),
			('GP', '52.02734,6.05444', '5', '172'),
			('GP', '52.02790,6.05397', '5', '172'),
			('GP', '52.02824,6.05307', '5', '172'),
			('GP', '52.02832,6.05125', '5', '172'),
			('GP', '52.02842,6.05052', '5', '172'),
			('GP', '52.02873,6.05020', '5', '172'),
			('GP', '52.02989,6.04777', '5', '172'),
			('GP', '52.02996,6.04697', '5', '172'),
			('GP', '52.03044,6.04603', '5', '172'),
			('GP', '52.03084,6.04575', '5', '172'),
			('GP', '52.03087,6.04494', '5', '172'),
			('GP', '52.03147,6.04244', '5', '172'),
			('GP', '52.03143,6.04186', '5', '172'),
			('GP', '52.03161,6.04153', '5', '172'),
			('GP', '52.03191,6.04092', '5', '172'),
			('GP', '52.03252,6.04038', '5', '172'),
			('GP', '52.03299,6.03926', '5', '172'),
			('GP', '52.03370,6.03464', '5', '172'),
			('GP', '52.03355,6.03187', '5', '172'),
			('GP', '52.03318,6.02953', '5', '172'),
			('GP', '52.03258,6.02774', '5', '172'),
			('GP', '52.03136,6.02564', '5', '172'),
			('GP', '52.03019,6.02206', '5', '172'),
			('GP', '52.03040,6.02009', '5', '172'),
			('GP', '52.03174,6.01964', '5', '172'),
			('GP', '52.03268,6.01896', '5', '172'),
			('GP', '52.03381,6.01825', '5', '172'),
			('GP', '52.03432,6.01756', '5', '172'),
			('GP', '52.03444,6.01702', '5', '172'),
			('GP', '52.03547,6.01617', '5', '172'),
			('GP', '52.03596,6.01352', '5', '172'),
			('GP', '52.03696,6.01491', '5', '172'),
			('GP', '52.03812,6.01445', '5', '172'),
			('GP', '52.03919,6.01490', '5', '172'),
			('GP', '52.04051,6.01692', '5', '172'),
			('GP', '52.04165,6.01854', '5', '172'),
			('GP', '52.04229,6.02015', '5', '172'),
			('GP', '52.04240,6.02106', '5', '172'),
			('GP', '52.04280,6.02147', '5', '172'),
			('GP', '52.04357,6.02327', '5', '172'),
			('GP', '52.04537,6.02384', '5', '172'),
			('GP', '52.04736,6.02562', '5', '172'),
			('GP', '52.04871,6.02494', '5', '172'),
			('GP', '52.04986,6.02496', '5', '172'),
			('GP', '52.05298,6.02588', '5', '172'),
			('GP', '52.05349,6.02658', '5', '172'),
			('GP', '52.05403,6.02644', '5', '172'),
			('GP', '52.05469,6.02543', '5', '172'),
			('GP', '52.05596,6.02702', '5', '172'),
			('GP', '52.05710,6.02798', '5', '172'),
			('GP', '52.06010,6.02121', '5', '172'),
			('GP', '52.06322,6.02231', '5', '172'),
			('GP', '52.06393,6.02345', '5', '172'),
			('GP', '52.06424,6.02458', '5', '172'),
			('GP', '52.06418,6.02699', '5', '172'),
			('GP', '52.06460,6.02849', '5', '172'),
			('GP', '52.06603,6.03026', '5', '172'),
			('GP', '52.07194,6.04201', '5', '172'),
			('GP', '52.07677,6.05514', '5', '172'),
			('GP', '52.07905,6.06414', '5', '172'),
			('GP', '52.07785,6.07116', '5', '172'),
			('GP', '52.07851,6.07362', '5', '172'),
			('GP', '52.07903,6.07311', '5', '172'),
			('GP', '52.08235,6.07273', '5', '172'),
			('GP', '52.08348,6.07614', '5', '172'),
			('GP', '52.08823,6.06742', '5', '172'),
			('GP', '52.09225,6.06215', '5', '172'),
			('GP', '52.09335,6.05973', '5', '172'),
			('GP', '52.09501,6.05639', '5', '172'),
			('GP', '52.09125,6.04802', '5', '172'),
			('GP', '52.08800,6.04352', '5', '172'),
			('GP', '52.08604,6.04043', '5', '172'),
			('GP', '52.08456,6.03654', '5', '172'),
			('GP', '52.08345,6.03332', '5', '172'),
			('GP', '52.07801,6.02171', '5', '172'),
			('GP', '52.07967,6.01787', '5', '172'),
			('GP', '52.07983,6.01722', '5', '172'),
			('GP', '52.08062,6.01591', '5', '172'),
			('GP', '52.08168,6.01279', '5', '172'),
			('GP', '52.08212,6.01269', '5', '172'),
			('GP', '52.08311,6.01387', '5', '172'),
			('GP', '52.08447,6.01455', '5', '172'),
			('GP', '52.08494,6.01510', '5', '172'),
			('GP', '52.08729,6.01729', '5', '172'),
			('GP', '52.08769,6.01751', '5', '172'),
			('GP', '52.08808,6.01744', '5', '172'),
			('GP', '52.09100,6.02037', '5', '172'),
			('GP', '52.09379,6.02081', '5', '172'),
			('GP', '52.09645,6.02205', '5', '172'),
			('GP', '52.09943,6.02497', '5', '172'),
			('GP', '52.10046,6.02586', '5', '172'),
			('GP', '52.10159,6.02756', '5', '172'),
			('GP', '52.10409,6.02759', '5', '172'),
			('GP', '52.10512,6.02827', '5', '172'),
			('GP', '52.10586,6.02835', '5', '172'),
			('GP', '52.10652,6.02734', '5', '172'),
			('GP', '52.10708,6.02731', '5', '172'),
			('GP', '52.10802,6.02681', '5', '172'),
			('GP', '52.10836,6.02700', '5', '172'),
			('GP', '52.10906,6.02657', '5', '172'),
			('GP', '52.11018,6.02250', '5', '172'),
			('GP', '52.11152,6.02365', '5', '172'),
			('GP', '52.11324,6.02167', '5', '172'),
			('GP', '52.11419,6.02084', '5', '172'),
			('GP', '52.11544,6.01819', '5', '172'),
			('GP', '52.11578,6.01754', '5', '172'),
			('GP', '52.11522,6.01699', '5', '172'),
			('GP', '52.11518,6.01618', '5', '172'),
			('GP', '52.11478,6.01537', '5', '172'),
			('GP', '52.11436,6.01413', '5', '172'),
			('GP', '52.11242,6.01107', '5', '172'),
			('GP', '52.11157,6.01040', '5', '172'),
			('GP', '52.10992,6.00782', '5', '172'),
			('GP', '52.10831,6.00609', '5', '172'),
			('GP', '52.10738,6.00491', '5', '172'),
			('GP', '52.10595,6.00215', '5', '172'),
			('GP', '52.10303,5.99777', '5', '172'),
			('GP', '52.10182,5.99673', '5', '172'),
			('GP', '52.09938,5.99531', '5', '172'),
			('GP', '52.09564,5.99227', '5', '172'),
			('GP', '52.09527,5.99160', '5', '172'),
			('GP', '52.09435,5.99057', '5', '172'),
			('GP', '52.09328,5.98990', '5', '172'),
			('GP', '52.09208,5.99028', '5', '172'),
			('GP', '52.09045,5.98939', '5', '172'),
			('GP', '52.08861,5.98874', '5', '172'),
			('GP', '52.08716,5.98679', '5', '172'),
			('GP', '52.08557,5.98509', '5', '172'),
			('GP', '52.08506,5.98403', '5', '172'),
			('GP', '52.08738,5.97785', '5', '172'),
			('GP', '52.08772,5.97757', '5', '172'),
			('GP', '52.08860,5.97743', '5', '172'),
			('GP', '52.08906,5.97712', '5', '172'),
			('GP', '52.08919,5.97635', '5', '172'),
			('GP', '52.08934,5.97322', '5', '172'),
			('GP', '52.08947,5.96952', '5', '172'),
			('GP', '52.09042,5.96673', '5', '172'),
			('GP', '52.08992,5.96214', '5', '172'),
			('GP', '52.08879,5.95957', '5', '172'),
			('GP', '52.08209,5.95335', '5', '172'),
			('GP', '52.08127,5.95043', '5', '172'),
			('GP', '52.08125,5.94759', '5', '172'),
			('GP', '52.06983,5.94506', '5', '172'),
			('GP', '52.06337,5.94334', '5', '172'),
			('GP', '52.05882,5.94088', '5', '172'),
			('GP', '52.05799,5.94109', '5', '172'),
			('GP', '52.05698,5.94104', '5', '172'),
			('GP', '52.05660,5.94074', '5', '172'),
			('GP', '52.05595,5.94070', '5', '172'),
			('GP', '52.05588,5.94019', '5', '172'),
			('GP', '52.05276,5.93866', '5', '172'),
			('GP', '52.05106,5.93765', '5', '172'),
			('GP', '52.04837,5.93682', '5', '172'),
			('GP', '52.04946,5.93985', '5', '172'),
			('GP', '52.05041,5.94672', '5', '172'),
			('GP', '52.05227,5.96165', '5', '172'),
			('GP', '52.05280,5.96366', '5', '172'),
			('GP', '52.05288,5.96552', '5', '172'),
			('GP', '52.05426,5.97706', '5', '172'),
			('GP', '52.05446,5.97775', '5', '172'),
			('GP', '52.04725,5.98210', '5', '172'),
			('GP', '52.04677,5.98330', '5', '172'),
			('GP', '52.04618,5.98413', '5', '172'),
			('GP', '52.04422,5.98578', '5', '172'),
			('GP', '52.04364,5.98584', '5', '172'),
			('GP', '52.04147,5.98767', '5', '172'),
			('GP', '52.04016,5.98809', '5', '172'),
			('GP', '52.03927,5.95962', '5', '172'),
			('GP', '52.03760,5.96088', '5', '172'),
			('GP', '52.03718,5.96098', '5', '172'),
			('GP', '52.03429,5.96335', '5', '172'),
			('GP', '52.03226,5.96500', '5', '172'),
			('GP', '52.02839,5.97001', '5', '172'),
			('GP', '52.02786,5.97103', '5', '172'),
			('GP', '52.02645,5.97268', '5', '172'),
			('GP', '52.02580,5.97414', '5', '172'),
			('GP', '52.02526,5.97538', '5', '172'),
			('GP', '52.02431,5.97644', '5', '172'),
			('GP', '52.02341,5.97705', '5', '172'),
			('GP', '52.02316,5.97745', '5', '172'),
			('GP', '52.02304,5.97857', '5', '172'),
			('GP', '52.02282,5.97908', '5', '172'),
			('GP', '52.02302,5.97923', '5', '172'),
			('GP', '52.02358,5.97924', '5', '172'),
			('GP', '52.02452,5.97958', '5', '172'),
			('GP', '52.02484,5.97951', '5', '172'),
			('GP', '52.02540,5.97955', '5', '172'),
			('GP', '52.02587,5.97992', '5', '172'),
			('GP', '52.02668,5.98015', '5', '172'),
			('GP', '52.02964,5.98172', '5', '172'),
			('GP', '52.03119,5.98343', '5', '172'),
			('GP', '52.03290,5.98552', '5', '172'),
			('GP', '52.03527,5.98755', '5', '172'),
			('GP', '52.03560,5.98829', '5', '172'),
			('GP', '52.03596,5.98913', '5', '172'),
			('GP', '52.03705,5.99057', '5', '172'),
			('GP', '52.03689,5.99093', '5', '172'),
			('GP', '52.03614,5.99128', '5', '172'),
			('GP', '52.03318,5.99532', '5', '172'),
			('GP', '52.03224,5.99594', '5', '172'),
			('GP', '52.03032,5.99805', '5', '172'),
			('GP', '52.02970,5.99575', '5', '172'),
			('GP', '52.02860,5.99504', '5', '172'),
			('GP', '52.02772,5.99558', '5', '172'),
			('GP', '52.02685,5.99556', '5', '172'),
			('GP', '52.02678,5.99494', '5', '172'),
			('GP', '52.02652,5.99421', '5', '172'),
			('GP', '52.02641,5.99330', '5', '172'),
			('GP', '52.02597,5.99227', '5', '172'),
			('GP', '52.02528,5.99070', '5', '172'),
			('GP', '52.02488,5.99000', '5', '172'),
			('GP', '52.02470,5.98927', '5', '172'),
			('GP', '52.02410,5.98784', '5', '172'),
			('GP', '52.02249,5.98759', '5', '172'),
			('GP', '52.02199,5.98781', '5', '172'),
			('GP', '52.02194,5.98847', '5', '172'),
			('GP', '52.02202,5.98967', '5', '172'),
			('GP', '52.02172,5.99076', '5', '172'),
			('GP', '52.02114,5.99156', '5', '172'),
			('GP', '52.01989,5.99307', '5', '172'),
			('GP', '52.01940,5.99302', '5', '172'),
			('GP', '52.01911,5.99273', '5', '172'),
			('GP', '52.01775,5.99016', '5', '172'),
			('GP', '52.01742,5.98986', '5', '172'),
			('GP', '52.01722,5.98935', '5', '172'),
			('GP', '52.01668,5.98887', '5', '172'),
			('GP', '52.01643,5.98879', '5', '172'),
			('GP', '52.01592,5.98831', '5', '172'),
			('GP', '52.01538,5.98762', '5', '172'),
			('GP', '52.01552,5.98729', '5', '172'),
			('GP', '52.01470,5.98466', '5', '172'),
			('GP', '52.01468,5.98429', '5', '172'),
			('GP', '52.01504,5.98404', '5', '172'),
			('GP', '52.01471,5.98294', '5', '172'),
			('GP', '52.01493,5.98000', '5', '172'),
			('GP', '52.01519,5.98084', '5', '172'),
			('GP', '52.01531,5.98011', '5', '172'),
			('GP', '52.01400,5.97663', '5', '172'),
			('GP', '52.01276,5.97651', '5', '172'),
			('GP', '52.01155,5.97715', '5', '172'),
			('GP', '52.01054,5.97717', '5', '172'),
			('GP', '52.00823,5.97572', '5', '172'),
			('GP', '52.00769,5.97575', '5', '172'),
			('GP', '52.00719,5.97673', '5', '172'),
			('GP', '52.00529,5.97936', '5', '172'),
			('GP', '52.00571,5.98017', '5', '172'),
			('GP', '52.00650,5.98109', '5', '172'),
			('GP', '52.00800,5.98144', '5', '172'),
			('GP', '52.00867,5.98185', '5', '172'),
			('GP', '52.00983,5.98372', '5', '172'),
			('GP', '52.01032,5.98420', '5', '172'),
			('GP', '52.01229,5.98608', '5', '172'),
			('GP', '52.01397,5.98636', '5', '172'),
			('GP', '52.01480,5.98655', '5', '172'),
			('GP', '52.01563,5.98856', '5', '172'),
			('GP', '52.01563,5.98856', '5', '172'),
			('GP', '52.01661,5.98942', '5', '172'),
			('GP', '52.01759,5.99045', '5', '172'),
			('GP', '52.01852,5.99212', '5', '172'),
			('GP', '52.01922,5.99313', '5', '172'),
			('GP', '52.01943,5.99392', '5', '172'),
			('GP', '52.01979,5.99463', '5', '172'),
			('GP', '52.02018,5.99504', '5', '172'),
			('GP', '52.02052,5.99600', '5', '172'),
			('GP', '52.02084,5.99730', '5', '172'),
			('GP', '52.02096,5.99851', '5', '172'),
			('GP', '52.02105,5.99975', '5', '172'),
			('GP', '52.02146,6.00124', '5', '172'),
			('GP', '52.02187,6.00193', '5', '172'),
			('GP', '52.02189,6.00197', '5', '172'),
			('GP', '52.02225,6.00235', '5', '172'),
			('GP', '52.02254,6.00235', '5', '172'),
			('GP', '52.02272,6.00192', '5', '172'),
			('GP', '52.02195,5.99950', '5', '172'),
			('GP', '52.02196,5.99879', '5', '172'),
			('GP', '52.02204,5.99848', '5', '172'),
			('GP', '52.02243,5.99886', '5', '172'),
			('GP', '52.02321,5.99872', '5', '172'),
			('GP', '52.02340,5.99756', '5', '172'),
			('GP', '52.02385,5.99716', '5', '172'),
			('GP', '52.02430,5.99717', '5', '172'),
			('GP', '52.02470,5.99747', '5', '172'),
			('GP', '52.02472,5.99790', '5', '172'),
			('GP', '52.02449,5.99925', '5', '172'),
			('GP', '52.02449,5.99965', '5', '172'),
			('GP', '52.02509,6.00093', '5', '172'),
			('GP', '52.02434,6.00283', '5', '172'),
			('GP', '52.02458,6.00344', '5', '172'),
			('GP', '52.02548,6.00374', '5', '172'),
			('GP', '52.02597,6.00364', '5', '172'),
			('GP', '52.02510,6.00661', '5', '172'),
			('GP', '52.02395,6.00849', '5', '172'),
			('GP', '52.02307,6.00932', '5', '172'),
			('GP', '52.02202,6.01134', '5', '172'),
			('GP', '52.02157,6.01181', '5', '172'),
			('GP', '52.02056,6.01209', '5', '172'),
			('GP', '52.01973,6.01255', '5', '172'),
			('GP', '52.01822,6.01249', '5', '172'),
			('GP', '52.01678,6.01320', '5', '172'),
			('GP', '52.01485,6.01328', '5', '172'),
			('GP', '52.01337,6.01220', '5', '172'),
			('GP', '52.01035,6.01395', '5', '172'),
			('GP', '52.00972,6.01423', '5', '172'),
			('GP', '52.00739,6.01671', '5', '172'),
			('GP', '52.01055,6.02921', '5', '172')";

		if (!($db->query($sql, 0)))
				exit ("Error insert in db");
		sleep(30);	
			
		while (!feof($input_file))
		{
			$sql = "INSERT INTO `".$locationTable."` (`location_talker`, `location_lat_log`, `location_speed`, `location_deviceID`) VALUES ".fgets($input_file, 150);
			//echo $sql."</br>";
			if (!($db->query($sql, 0)))
				exit ("Error insert in db");
			sleep(1); //delay in 15 minutes
		}

		fclose($input_file);		

		$sql = "DELETE FROM `".$locationTable."` WHERE `location_deviceID` = '170' OR `location_deviceID` = '171' OR `location_deviceID` = '172'";
		if (!$db->query($sql, 0))
			exit ("Error insert in db");

		unset($db); 
	}
	
	insertDemoLocations();

?>